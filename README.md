[CMS_wingui](#CMS_wingui)
1. [개발 환경](#개발환경)
2. [요구사항 분석](#요구사항분석)
    - [전체 고객 정보 조회](#전체고객정보조회)
    - [생일 고객 조회](#생일고객조회)
    - [전체 디자이너 정보 조회](#전체디자이너정보조회)
    - [날짜 별 거래 정보 조회](#날짜별거래정보조회)
    - [등급 기준 정보 조회](#등급기준정보조회)
    - [서비스 / 미용 용품 정보 관리](#서비스/미용용품정보관리)
3. [데이터베이스](#데이터베이스)
    - [개념적 설계](#개념적설계)
    - [논리적 설계](#논리적설계)
    - [물리적 설계](#물리적설계)
    - [데이터베이스 테이블](#데이터베이스테이블)
4. [실행 화면](#실행화면)

<a name="CMS_wingui"/>

# CMS_wingui

- JAVA Swing으로 제작한 미용실 고객관리 시스템
- 새로운 고객 정보, 고객 방문기록, 미용용품 구매내역, 등의 내용들을 입력할 수 있고 이 내용들을 쉽게 열람∙수정 할 수 있는 프로그램을 만드는 것이 목적
- 개인 프로젝트

<a name="개발환경"/>

## 1. 개발 환경

-	Oracle Database Express Edition 11g Release 2 for Windows x64
-	erwin Data Modeler r9.7 for Windows x64
-	JDK1.8_144
-	ojdbc6
-	Windows10

<a name="요구사항분석"/>

## 2. 요구사항 분석

<a name="전체고객정보조회"/>

### (1) 전체 고객 정보 조회
-	관리자가 전체 고객 정보를 조회하고자 하는 경우 전체 고객의 이름, 성별, 연락처, 생일, 최근 방문일자, 고객 등급, 가용 포인트, 누적 지불 금액이 고객 이름 순서로 출력된다.
-	고객의 정보를 클릭하면 해당 고객의 거래정보가 출력된다.
-	고객 상세정보 페이지에서 수정 버튼을 클릭하면 기존 고객 개인 정보들이 수정 가능한 형태로 출력된다. (수정 가능한 개인 정보: 성별, 연락처, 생일, 가용 포인트)
취소 버튼을 누를 경우. 상세정보 페이지로 돌아간다.
연락처 또는 생일을 입력하지 않고 확인을 누를 경우 ‘필수 항목을 입력해주세요’ 문구를 출력한다.
자릿수가 올바르지 않은 경우 – 잘못 입력한 경우, “다시 입력해주세요” 문구를 출력한다.
확인 버튼을 눌러 수정이 완료되면 자동으로 상세정보 페이지로 돌아간다.
-	관리자가 고객 이름 혹은 연락처로 고객 정보를 검색하고자 하는 경우 고객 이름 혹은 연락처로 정보를 검색한다. 검색한 정보의 목록을 출력한다.
-	관리자가 신규 고객의 정보를 입력하고자 하는 경우 전체 정보 조회 페이지에서 추가 버튼을 클릭한다. 고객 이름, 성별, 연락처, 생일을 입력하는 칸을 출력한다. 이 중 이름, 성별, 생일, 연락처는 필수 입력 요소이다 이름, 성별, 연락처, 생일을 입력한 뒤 확인을 누르면 정보 추가 이후 “고객이 등록되었습니다” 메시지를 출력한다.
필수 입력 요소를 입력하지 않고 확인을 누르는 경우 “필수 입력 요소가 누락되었습니다. 확인해 주세요” 메시지를 출력”한다.
취소 버튼을 누르는 경우, 고객 전체 정보 조회 페이지로 돌아간다.
추가가 완료되면 고객 전체 정보 조회 페이지를 출력한다.
-	관리자가 고객 정보를 삭제하고자 하는 경우 삭제하고자 하는 고객에게 체크한 뒤 삭제 버튼을 누른다. “삭제하시겠습니까?”메시지를 출력한 뒤 확인 버튼을 누르면 정보 삭제 후 “삭제되었습니다. 메시지를 출력한다.
취소 버튼을 누르는 경우 삭제하시겠습니까? 메시지가 사라진다.
삭제 후의 전체 고객 정보 조회 페이지를 출력한다.

<a name="생일고객조회"/>

### (2) 생일 고객 조회
-	관리자가 생일인 고객을 조회하고자 할 때 사용할 수 있는 기능으로 오늘 생일인 고객의 리스트가 출력된다. 이달의 생일 버튼을 클릭하면 이달의 생일 고객 리스트가 출력된다.

<a name="전체디자이너정보조회"/>

### (3) 전체 디자이너 정보 조회
-	관리자가 모든 디자이너 정보를 조회하고자 하는 경우 사용 가능한 기능으로 모든 디자이너 정보리스트를 출력한다.
-	디자이너의 이름을 클릭하면 특정 디자이너의 이름, 연락처, 직급, 근무, 요일, 근무시간을 출력한다.
아래에 그 디자이너가 담당했던 서비스 기록을 출력한다.
-	관리자가 디자이너 정보를 수정하고자 하는 경우 디자이너 상세정보 페이지에서 수정 버튼을 누르면 기존 디자이너 개인정보들이 수정 가능한 형태로 출력된다. (수정 가능한 개인정보: 연락처, 직급, 근무 요일, 근무 시간)
수정 내용을 입력한 후 확인을 누르면 수정이 완료되었습니다 메시지를 출력한다.
취소 버튼을 누르는 경우 상세정보 페이지로 돌아간다.
누락된 정보가 있거나 잘못 입력한 경우 ‘잘못 입력하거나 누락된 정보가 있는지 확인해주세요’ 문구를 출력한다.
수정이 완료된 디자이너 상세정보 페이지를 출력한다.
-	관리자가 새로운 디자이너의 정보를 추가하고자 하는 경우 전체 디자이너 정보 조회 페이지에서 추가 버튼을 누르면 디자이너 이름, 연락처, 직급, 근무 요일, 근무 시간을 입력하는 칸을 출력한다. 이 중 아이디와 이름은 필수 입력 요소이다.
디자이너 정보를 입력한 뒤 확인을 누르면 정보 추가 이후 “디자이너가 등록되었습니다.” 메시지가 출력된다.
아무것도 입력하지 않고 확인을 누르는 경우 필수 입력 요소가 누락되었습니다. 확인해 주세요 메시지를 출력한다.
취소 버튼을 누르면 전체 디자이너 정보 조회 페이지로 돌아간다.
입력한 값이 올바르지 않은 경우 ‘값이 올바르지 않습니다. 다시 입력해 주세요’ 메시지를 출력한다.
추가가 완료된 전체 디자이너 정보 조회 페이지를 출력한다.
-	관리자가 디자이너의 정보를 삭제하고자 하는 경우 전체 디자이너 정보 조회 페이지에서 삭제 버튼을 누르고 삭제하고자 하는 디자이너에게 체크한 뒤 삭제 버튼을 누르면 ‘삭제하시겠습니까?’ 메시지를 출력한다. 메시지의 확인 버튼을 누르면 ‘삭제되었습니다’ 메시지를 출력한다. 
메시지의 취소 버튼을 누르는 경우 ‘삭제하시겠습니까?’ 메시지가 사라진다.
삭제 후의 전체 디자이너 정보를 조회한다.
-	관리자가 오늘 근무하는 디자이너들을 조회하고자 하는 경우 해당 버튼을 클릭하면 O요일 근무 디자이너 리스트를 출력한다. (디자이너 이름, 연락처, 직급, 근무 시간)

<a name="날짜별거래정보조회"/>

### (4) 날짜 별 거래 정보 조회
-	날짜 별 거래 정보 조회 페이지를 클릭하면 오늘 전체 거래 정보를 출력한다.
날짜를 선택한 후 조회 버튼을 클릭하면 해당 날짜의 서비스+상품 거래 정보 리스트를 출력한다.
-	거래 내역 조회에서 서비스 거래 내역 조회 버튼을 클릭하면 오늘의 거래 정보 리스트를 출력한다.
날짜를 선택한 후 조회 버튼을 클릭하면 해당 날짜의 서비스 거래 정보 리스트를 출력한다.
-	거래 내역 조회에서 미용 용품 거래 정보 버튼을 클릭하면 오늘 전체 미용 용품 거래 정보를 출력한다.
날짜를 선택한 후 조회 버튼을 클릭하면 날짜에 해당하는 미용 용품 거래 정보 리스트를 출력한다.
-	거래 정보 검색을 하고자 하는 경우 검색 종류에 따른 검색 결과를 출력한다.
-	관리자가 새로운 거래 내역을 추가하고자 하는 경우 거래 내역 조회 페이지에서 추가 버튼 클릭하면 거래 서비스 및 상품 목록 카테고리를 출력한다. 원하는 카테고리를 선택해서 원하는 상품들을 모두 선택한 후 거래 버튼을 클릭하면 미등록/고객 중 하나를 선택한다. 고객을 선택하면 고객 이름으로 특정 고객을 선택하면 예상 결제 금액과 예상 포인트 적립금이 출력되고 결제하시겠습니까?라고 묻는 메시지 창이 뜬다.
확인을 누르면 고객 개인정보의 최근 방문일자가 현재 날짜로 변경되고 고객 개인정보의 가용 포인트에 현재 적립한 포인트 금액을 더해준다. 그리고 누적 지불 금액에 현재 지불 금액을 더해주고 누적 지불 금액에 따라 고객등급을 조정한다.
결제 정보에 현재 결제 내역이 입력되고 결제 정보가 입력되었습니다. 메시지가 출력된다.
미등록을 선택하는 경우 예상 결제 금액이 출력되며 “결제하시겠습니까?”라고 묻는 메시지가 뜨고 아래에 확인 및 취소 버튼이 출력된다. 확인을 누르면 포인트 적립 없이 거래 내역에만 결제 정보가 입력되고 ‘결제 정보 입력되었습니다.’ 메시지가 출력된다. 
취소를 선택한 경우 ‘결제하시겠습니까?’ 창이 사라진다.
결제 정보 등록 이후 해당 결제 정보에 따른 변동사항을 고객 개인정보에 입력한다. (고객 등급 변화, 가용 포인트, 누적 지불 금액, 최근 방문 일자) 이후 전체 결제 정보 조회 페이지가 출력된다.
-	관리자가 거래 내역을 삭제하고자 하는 경우 거래 정보 조회 페이지에서 삭제 버튼을 누르고 삭제하고자 하는 거래 내역에 체크한 뒤 삭제 버튼을 누르면 ‘삭제하시겠습니까’ 메시지를 출력한다.
메시지의 확인 버튼을 누르면 고객의 이전 방문 일을 찾아 최근 방문 일을 이전 방문 일로 수정하고 고객의 가용 포인트에서 입력되어있는 포인트만큼 삭감한다. 고객의 누적 지불 금액에서 입력되어있는 금액만큼 삭감해야 하고 고객의 누적 지불 금액에 맞추어 고객 등급 또한 조정한다. 정보 삭제 후 “삭제되었습니다” 메시지를 출력한다.
‘삭제하시겠습니까?’ 메시지의 취소버튼을 누르는 경우 ‘삭제하시겠습니까?’ 메시지가 사라진다.
삭제 후 전체 거래 내역 조회 페이지가 출력된다.

<a name="등급기준정보조회"/>

### (5) 등급 기준 정보 조회
-	관리자가 고객 등급에 관한 정보를 조회하고자 할 때 해당 메뉴를 클릭하면 등급과 기준 누적 금액, 포인트 적립율을 기준 누적 금액의 오름차순으로 정렬하여 출력한다.
-	관리자가 등급 기준에 대한 정보를 수정하고자 할 때 등급 기준 정보 조회 페이지에서 수정 클릭하면 기존 고객 등급 기준들이 수정 가능한 형태로 출력된다. (수정 가능한 등급 기준 정보: 기준 누적 금액, 포인트 적립율)
수정 내용을 입력한 후 확인을 누르면 정보 수정 후 ‘수정이 완료되었습니다.’ 메시지를 출력한다. 
취소 버튼을 누르는 경우 등급 기준 정보 조회 페이지로 돌아간다.
기준 누적 금액과 포인트 적립율을 입력하지 않고 확인을 누르는 경우 ‘필수 항목을 입력해 주세요’ 문구를 출력한다.
확인 버튼을 눌러 수정이 완료되면 자동으로 등급 기준 정보 조회 페이지로 돌아간다.
-	관리자가 등급 기준 정보를 삭제하고 싶은 경우 삭제하고자 하는 고객 등급에 체크한 뒤 삭제 버튼을 누르면 “삭제하시겠습니까?”메시지를 출력하고 메시지의 확인 버튼을 누르면 정보 삭제 후 “삭제되었습니다.” 메시지를 출력한다.
“삭제하시겠습니까?” 메시지의 취소 버튼을 누르는 경우 “삭제하시겠습니까?”메시지가 사라진다.
삭제하고자 하는 고객등급에 해당되는 고객이 존재하는 경우 해당 고객 등급을 가진 고객이 존재하기 때문에 삭제할 수 없습니다.” 메시지 창을 출력한다. 확인 버튼을 누르면 메시지 창이 닫힌다.
삭제 후의 등급 정보 기준 정보 조회 페이지를 출력한다.
-	관리자가 새로운 등급 기준 정보를 추가하고자 하는 경우 등급 이름, 기준 누적 금액, 포인트 적립율을 입력하는 칸을 출력한다. 세 개의 값 모두가 필수 입력 요소이기 때문에 반드시 입력해야 한다. 모든 값을 입력한 뒤 확인을 누른다. 정보 추가 이후 “새로운 고객 등급이 등록되었습니다” 메시지를 출력한다.
필수 입력 요소를 입력하지 않고 확인을 누른다. “필수 입력 요소가 누락되었습니다. 확인해 주세요” 메시지를 출력”한다. 
취소 버튼을 누르면 등급 기준 정보 조회 페이지로 돌아간다.
이미 존재하는 등급이름을 입력하고 확인을 누르면 “이미 존재합니다. 다시 입력해주세요” 메시지 출력한다.
추가한 후의 등급 기준 정보 조회 페이지를 출력한다.

<a name="서비스/미용용품정보관리"/>

### (6) 서비스 / 미용 용품 정보 관리
-	관리자가 서비스와 미용 용품 카테고리 중 하나를 선택한다.
-	서비스의 경우 서비스의 이름, 모발 상태, 모발 길이를 각각 선택하면 해당 서비스의 가격을 출력한다.
-	서비스의 정보를 수정하고자 하는 경우 서비스 정보 조회에서 수정 버튼을 클릭하면 서비스의 정보들이 수정 가능한 형태로 출력된다. (수정 가능한 정보: 모발 상태, 모발 길이, 가격)
수정 내용을 선택∙입력 후 확인을 누르면 수정 후 “수정이 완료되었습니다” 메시지를 출력한다.
취소 버튼을 누르면 서비스 정보 리스트 페이지로 돌아간다.
가격을 작성하지 않고 확인을 누르는 경우 ‘가격을 입력해주세요’ 문구를 줄력한다.
이미 존재하는 서비스인 경우 ‘동일한 서비스가 존재합니다. 다시 수정하세요’ 문구를 출력한다.
수정을 완료한 서비스 리스트를 출력한다.
-	관리자가 새로운 서비스의 정보를 추가하고자 하는 경우 새로운 서비스 추가  / 기존 서비스 추가 두 가지 버튼을 출력한다.
새로운 서비스의 추가 버튼을 클릭하면 새로운 서비스의 첫 번째 시리얼 번호, 이름, 모발 길이, 모발 상태를 선택∙입력할 수 있는 칸을 출력한다. 정보 추가 이후 “고객이 등록되었습니다” 메시지를 출력한다.
필수 입력 요소를 입력하지 않고 확인을 누르는 경우 “필수 입력 요소가 누락되었습니다. 확인해 주세요” 메시지를 출력”한다.
취소 버튼을 누르는 경우 고객 정보 조회 페이지로 돌아간다.
-	관리자가 서비스 정보를 삭제하고자 하는 경우 삭제하려 서비스 정보에 체크한 뒤 삭제 버튼을 누르면 “삭제하시겠습니까?” 메시지를 출력하고 메시지의 확인 버튼을 누르면 정보 삭제 후 “삭제되었습니다.” 메시지를 출력한다.
“삭제하시겠습니까?” 메시지의 취소 버튼을 누르는 경우 “삭제하시겠습니까?”메시지가 사라진다.
삭제 후의 서비스 정보 조회 페이지를 출력한다
-	미용 용품의 경우 조회 페이지에서는 최상위 카테고리를 출력한다. 카테고리를 클릭하고 원하는 하위 카테고리를 선택하는 것을 최하위 카테고리를 선택할 때까지 계속 선택하며 최하위 카테고리를 선택하면 해당 카테고리의 상품 목록을 출력한다.
-	삭제하고자 하는 미용용품을 체크한 뒤 삭제 버튼을 누르면 “삭제하시겠습니까?”메시지를 출력한다. 메시지의 확인 버튼을 누르면 정보 삭제 후 “삭제되었습니다.” 메시지를 출력한다. “삭제하시겠습니까?” 메시지의 취소 버튼을 누른다. “삭제하시겠습니까?”메시지가 사라진다.
추가 버튼을 누르면 고객 이름, 성별, 연락처, 생일을 입력하는 칸을 출력한다. 이 중 이름, 성별, 생일, 연락처는 필수 입력 요소이다. 이름, 성별, 연락처, 생일을 입력한 뒤 확인을 누르면 정보 추가 이후 “고객이 등록되었습니다” 메시지를 출력한다.
필수 입력 요소를 입력하지 않고 확인을 누르면 “필수 입력 요소가 누락되었습니다. 확인해 주세요” 메시지를 출력”한다. 취소 버튼을 누르는 경우 고객 전체 정보 조회 페이지로 돌아간다.
-	미용 용품 조회 페이지에서 미용 용품을 클릭하는 경우 미용 용품의 사진 정보가 출력된다.

<a name="데이터베이스"/>

## 3. 데이터베이스

<a name="개념적설계"/>

### (1) 개념적 설계
![image](https://user-images.githubusercontent.com/32252093/103187085-5f27b000-4906-11eb-8249-f1d5618dd1d7.png)

<a name="논리적설계"/>

### (2) 논리적 설계
![image](https://user-images.githubusercontent.com/32252093/103187114-80889c00-4906-11eb-9515-2460c909ee9b.png)

<a name="물리적설계"/>

### (3) 물리적 설계
![image](https://user-images.githubusercontent.com/32252093/103187174-bded2980-4906-11eb-835b-a1a2cc191420.png)

<a name="데이터베이스테이블"/>

### (4) 데이터베이스 테이블

```sql
-- CREATE TABLE
-- CUSTOMER
CREATE TABLE CUSTOMER
( Cid      VARCHAR(6)      NOT NULL,
  Cname    VARCHAR(20),
  Csex     CHAR,
  Cphone   VARCHAR(15),
  Cbirth   DATE,
  Cdate   DATE,
  Cgrade   VARCHAR(20),
  Usable_point     INTEGER,
  Cumul_amount     INTEGER,
  PRIMARY KEY(Cid));

-- CRITERIA_INFO
CREATE TABLE CRITERIA_INFO
( Grade    VARCHAR(20)     NOT NULL,
  Crit_cumul       INTEGER,
  Point_ratio      DECIMAL(3,2),
  PRIMARY KEY(Grade));

-- SERVICE_SERIAL_INFO
CREATE TABLE SERVICE_SERIAL_INFO
( Carte_sn         VARCHAR(10)     NOT NULL,
  Carte_name       VARCHAR(50),
  PRIMARY KEY(Carte_sn));

-- BEAUTY_SUPPL_CARTE
CREATE TABLE BEAUTY_SUPPL_CARTE
( Carte_sn         VARCHAR(10)     NOT NULL,
  Carte_name       VARCHAR(50),
  Top_Carte_sn     VARCHAR(10),
  Sub_Carte_num    INTEGER,
  PRIMARY KEY(Carte_sn));

-- SERVICE
CREATE TABLE SERVICE
( Ssn      VARCHAR(10)     NOT NULL,
  Sprice   INTEGER,
  PRIMARY KEY(Ssn));

-- DESIGNER
CREATE TABLE DESIGNER
( Did      VARCHAR(6)      NOT NULL,
  Dname    VARCHAR(20),
  Dphone   VARCHAR(15),
  Dpos     VARCHAR(10),
  PRIMARY KEY(Did));

-- BEAUTY_SUPPL
CREATE TABLE BEAUTY_SUPPL
( Carte_sn VARCHAR(10)     NOT NULL,
  Bindex   INTEGER         NOT NULL,
  Bname    VARCHAR(50),
  Bprice   INTEGER,
  Bnum     INTEGER,
  PRIMARY KEY(Carte_sn, Bindex));

-- SERVICE_HISTORY
CREATE TABLE SERVICE_HISTORY
( History_code     VARCHAR(11)     NOT NULL,
  Cid              VARCHAR(6),
  Did              VARCHAR(6),
  Used_point       INTEGER,
  Payment          INTEGER,
  Point            INTEGER,
  Usable_point     INTEGER,
  Cdate            DATE,
  PRIMARY KEY(History_code));

-- BEAUTY_SUPPL_HISTORY
CREATE TABLE BEAUTY_SUPPL_HISTORY
( History_code     VARCHAR(11)     NOT NULL,
  Cid              VARCHAR(6),
  Used_point       INTEGER,
  Payment          INTEGER,
  Point             INTEGER,
  Usable_point     INTEGER,
  Bdate            DATE,
  PRIMARY KEY(History_code));

-- DESIGNER_WORKING_DAY
CREATE TABLE DESIGNER_WORKING_DAY
(  Did     VARCHAR(6)      NOT NULL,
   Dday    VARCHAR(3),
   Dtime   VARCHAR(12),
   PRIMARY KEY(Did, Dday));

-- SALED_SERVICE_INFO
CREATE TABLE SALED_SERVICE_INFO
( History_code     VARCHAR(11)     NOT NULL,
  Service_sn       VARCHAR(10)     NOT NULL,
  PRIMARY KEY(History_code, Service_sn));

-- SALED_SUPPL_INFO
CREATE TABLE SALED_SUPPL_INFO
( History_code     VARCHAR(11)     NOT NULL,
  Carte_sn         VARCHAR(11)     NOT NULL,
  Bindex           INTEGER         NOT NULL,
  Saled_num     INTEGER,
  PRIMARY KEY(History_code, Carte_sn, Bindex));
```

<a name="실행"/>

## 4. 실행 화면

![image](https://user-images.githubusercontent.com/32252093/103186777-4074e980-4905-11eb-922f-a9d4aa0f75a7.png)
![image](https://user-images.githubusercontent.com/32252093/103186786-47036100-4905-11eb-92bf-73a35f6aa7b4.png)
![image](https://user-images.githubusercontent.com/32252093/103186789-49fe5180-4905-11eb-807f-07f8f3b20ff4.png)
![image](https://user-images.githubusercontent.com/32252093/103186867-8af66600-4905-11eb-9198-b89f0769c32f.png)
![image](https://user-images.githubusercontent.com/32252093/103186855-803bd100-4905-11eb-9512-9beb132973da.png)
![image](https://user-images.githubusercontent.com/32252093/103186858-829e2b00-4905-11eb-9972-03031550e5dc.png)
